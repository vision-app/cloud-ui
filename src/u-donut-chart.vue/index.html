<u-chart :class="$style.root" :title="title" :border="border" :legend="legend" :legend-placement="legendPlacement" readonly :series="currentData" :data="data"
    :width="width" :height="height" @select-series="selectedItem = $event.series">
    <slot name="titleTemplate" slot="titleTemplate"></slot>
    <slot name="caption" slot="caption"></slot>
    <template slot="legendTemplate" slot-scope="scope">
        <slot name="legendTemplate" :sery="scope.sery" :index="scope.index">
            {{scope.sery.name || scope.sery.key}}
        </slot>
    </template>
    <template slot="legendSuffix">
        <slot name="legendSuffix"></slot>
    </template>
    <svg :class="$style.svg" ref="svg" viewBox="0 0 200 200">
        <g transform="translate(100, 100)" :class="$style.group">
            <circle v-if="zero" :class="$style.zero" cx="0" cy="0" :r="RADIUS"></circle>
            <g v-if="!zero">
                <path v-for="item in currentData" :class="$style.item" :selected="item === selectedItem"
                        :color="item.color" :style="{ stroke: item.color }"
                        :d="item.d" @mouseover="onMouseOver(item)" />
            </g>
            <g v-if="!zero && labels">
                <path v-for="item in currentData" :class="$style['label-line']" :d="item.label.d" :selected="item === selectedItem" />
            </g>
            <circle cx="0" cy="0" :r="RADIUS * 0.75" :class="$style.circle" />
        </g>
    </svg>
    <div v-if="zero" :class="$style['zero-text']">
        <!-- <div>0%</div> -->
    </div>
    <div v-else-if="labels" v-for="item in currentData" :class="$style.label"
            :style="getLabelStyle(item)" :selected="item === selectedItem">
        <slot name="label" :item="item">{{ item.name }}: {{ item.value }}{{ unit }}</slot>
    </div>
    <div v-if="selectedItem" :class="$style.text">
        <p :class="$style.percent"><span>{{ selectedItem.percentage }}</span>%</p>
        <p :class="$style.name">{{ selectedItem.name }}</p>
    </div>
</u-chart>
