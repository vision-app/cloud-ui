<div :class="$style.root" :disabled="disabled">
    <div :class="$style.head" :selected="selected" @click="parentVM.expandTrigger === 'click' && toggle()" :title="title">
        <div :class="$style.title">
            <slot name="title">{{ title }}</slot>
        </div>
        <span v-if="currentCollapsible && !parentVM.collapse" :class="$style.expander"
            :expanded="currentExpanded"
            @click="parentVM.expandTrigger === 'click-expander' && ($event.stopPropagation(), toggle())"
        ></span>
        <span :class="$style.extra"><slot name="extra"></slot></span>
    </div>
    <m-popper :class="$style.popper" reference="$parent" v-if="parentVM.collapse" placement="right-start">
        <div :class="$style.body">
            <slot></slot>
        </div>
    </m-popper>
    <f-collapse-transition v-else>
        <div :class="$style.body" v-show="currentCollapsible ? currentExpanded : true">
            <slot></slot>
        </div>
    </f-collapse-transition>
</div>
